function LambertReferential(name,xGeodeticDatum,yGeodeticDatum,zGeodeticDatum,semiMajorAxis,eccentricity2,lon0,lat0,lat1,lat2){this.referentialName=name;this.a_wgs84=6378137.0;this.e_wgs84=Math.sqrt(2/298.257223563-1/Math.pow(298.257223563,2));this.f_wgs84=1/298.257223563;this.e2_wgs84=this.e_wgs84*this.e_wgs84;this.CreateConstants(xGeodeticDatum,yGeodeticDatum,zGeodeticDatum,semiMajorAxis,eccentricity2,lon0,lat0,lat1,lat2);}LambertReferential.prototype.getGroundPixelSize=function(psp,uJ,uz){var phi=uz*Math.PI/180;var sinphi=Math.sin(phi);var _gl=Math.log(Math.tan(phi/2+Math.PI/4)*Math.pow((1-this.e*sinphi)/(1+this.e*sinphi),this.e/2));var d=this.a*psp*Math.cos(phi)/(this.n*this.C*Math.exp(-this.n*_gl));return d;};LambertReferential.prototype.wgs84ToMapRef=function(uJ,uz){var geo=this.wgs84ToEG(uJ,uz);var lambda=geo.x;var phi=geo.y;var sinphi=Math.sin(phi);var miphir90=phi/2+Math.PI/4;var _gl=Math.log(Math.tan(miphir90)*Math.pow((1-this.e*sinphi)/(1+this.e*sinphi),this.e/2));var easting=this.C*Math.exp(-this.n*_gl)*Math.sin(this.n*(lambda-this.lambda0));var northing=this.ys-this.C*Math.exp(-this.n*_gl)*Math.cos(this.n*(lambda-this.lambda0));return new google.maps.Point(easting,northing);};LambertReferential.prototype.mapRefToWGS84=function(easting,northing){var theta=Math.atan(easting/(this.ys-northing));var lambda=theta/this.n+this.lambda0;var rho=Math.sqrt(easting*easting+Math.pow(this.ys-northing,2));var t=Math.pow(this.C/rho,1/this.n);var xi=2*Math.atan(t)-Math.PI/2;var phi=xi+(this.e2/2+5*this.e4/24+this.e6/12+13*this.e8/360)*Math.sin(2*xi)+(7*this.e4/48+29*this.e6/240+811*this.e8/11520)*Math.sin(4*xi)+(7*this.e6/120+81*this.e8/1120)*Math.sin(6*xi)+(4279*this.e8/161280)*Math.sin(8*xi);var geo=this.EgToWgs84(lambda,phi);var uJ=geo.x;var uz=geo.y;return new google.maps.LatLng(uz,uJ);};LambertReferential.prototype.EgToWgs84=function(lambda,phi){var sinphi=Math.sin(phi);var sin2phi=Math.sin(2*phi);var cosphi=Math.cos(phi);var sinlambda=Math.sin(lambda);var coslambda=Math.cos(lambda);var N=this.a/Math.sqrt(1-Math.pow(this.e*sinphi,2));var lambda84=lambda+(-this.Tx*sinlambda+this.Ty*coslambda)/(N*cosphi);var rho=this.a*(1-this.e*this.e)/Math.pow(1-Math.pow(this.e*sinphi,2),3/2);var df=(this.f_wgs84-this.f);var da=(this.a_wgs84-this.a);var phi84=phi+(-this.Tx*sinphi*coslambda-this.Ty*sinphi*sinlambda+this.Tz*cosphi+(this.a*df+this.f*da)*sin2phi)/rho;return new google.maps.Point(lambda84*180/Math.PI,phi84*180/Math.PI);};LambertReferential.prototype.wgs84ToEG=function(uJ,uz){var lambda84=uJ*Math.PI/180;var phi84=uz*Math.PI/180;var sinphi84=Math.sin(phi84);var sin2phi84=Math.sin(2*phi84);var cosphi84=Math.cos(phi84);var sinlambda84=Math.sin(lambda84);var coslambda84=Math.cos(lambda84);var N84=this.a_wgs84/Math.sqrt(1-Math.pow(this.e_wgs84*sinphi84,2));var lambda=lambda84+(this.Tx*sinlambda84-this.Ty*coslambda84)/(N84*cosphi84);var rho84=this.a_wgs84*(1-this.e_wgs84*this.e_wgs84)/Math.pow(1-Math.pow(this.e_wgs84*sinphi84,2),3/2);var df=(this.f-this.f_wgs84);var da=(this.a-this.a_wgs84);var phi=phi84+(this.Tx*sinphi84*coslambda84+this.Ty*sinphi84*sinlambda84-this.Tz*cosphi84+(this.a_wgs84*df+this.f_wgs84*da)*sin2phi84)/rho84;return new google.maps.Point(lambda,phi);};LambertReferential.prototype.CreateConstants=function(xGeodeticDatum,yGeodeticDatum,zGeodeticDatum,semiMajorAxis,eccentricity2,lon0,lat0,lat1,lat2){this.Tx=xGeodeticDatum;this.Ty=yGeodeticDatum;this.Tz=zGeodeticDatum;this.a=semiMajorAxis;this.e2=eccentricity2;this.e4=Math.pow(this.e2,2);this.e6=Math.pow(this.e2,3);this.e8=Math.pow(this.e2,4);this.e=Math.sqrt(this.e2);this.f=1-Math.sqrt(1-this.e2);this.lambda0=lon0*Math.PI/180;var phi0=lat0*Math.PI/180;var phi1=lat1*Math.PI/180;var phi2=lat2*Math.PI/180;var sinphi1=Math.sin(phi1);var sinphi2=Math.sin(phi2);var sinphi0=Math.sin(phi0);var gl1=Math.log(Math.tan(phi1/2+Math.PI/4)*Math.pow((1-this.e*sinphi1)/(1+this.e*sinphi1),this.e/2));var gl2=Math.log(Math.tan(phi2/2+Math.PI/4)*Math.pow((1-this.e*sinphi2)/(1+this.e*sinphi2),this.e/2));var gl0=Math.log(Math.tan(phi0/2+Math.PI/4)*Math.pow((1-this.e*sinphi0)/(1+this.e*sinphi0),this.e/2));var gN1=this.a/Math.sqrt(1-Math.pow(this.e*sinphi1,2));var gN2=this.a/Math.sqrt(1-Math.pow(this.e*sinphi2,2));var cosphi1=Math.cos(phi1);var cosphi2=Math.cos(phi2);var m1=cosphi1/Math.sqrt(1-Math.pow(this.e*sinphi1,2));var t1=Math.tan(Math.PI/4-phi1/2)*Math.pow((1-this.e*sinphi1)/(1+this.e*sinphi1),this.e/2);this.n=Math.log(gN2*cosphi2/(gN1*cosphi1))/(gl1-gl2);this.C=(gN1*cosphi1/this.n)*Math.exp(this.n*gl1);this.ys=this.C*Math.exp(-this.n*gl0);this.F=m1/(this.n*Math.pow(t1,this.n));};